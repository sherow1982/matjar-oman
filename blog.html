<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>مدونة متجر عمان | دليلك لشراء أفضل المنتجات</title>
    <meta name="description" content="مقالات ومراجعات مفصلة لأحدث المنتجات في سلطنة عمان.">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet"/>
    <style>
        body { font-family: 'Cairo', sans-serif; margin: 0; padding: 0; background: #f8f8f8; color: #333; }
        .container { width: 90%; max-width: 900px; margin: auto; padding: 20px; }
        header, footer { text-align: center; background: #fff; padding: 1rem 0; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        header nav a, footer nav a { margin: 0 15px; color: #007bff; font-weight: bold; text-decoration: none; }
        .brand { font-size: 1.8rem; font-weight: bold; color: #333; text-decoration: none; display: block; margin-bottom: 10px; }
        footer { margin-top: 40px; padding-bottom: 20px; }
        article { background: #fff; padding: 25px; border-radius: 10px; margin-bottom: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); }
        img.product-image { max-width: 350px; margin: 10px auto; display: block; border-radius: 10px; }
        .btn-container { margin-top: 20px; text-align: center; }
        .whatsapp-btn, .buy-now-btn { border-radius: 30px; padding: 12px 25px; margin: 5px; font-weight: bold; text-decoration: none; display: inline-block; color: white; border: none; }
        .whatsapp-btn { background-color: #25D366; }
        .buy-now-btn { background-color: #007bff; }
        h2 { margin-top: 0; }
        p { line-height: 1.8; }
        .reviews-section { text-align: right; margin-top: 30px; border-top: 1px solid #ddd; padding-top: 15px; }
        .review-item { border-bottom: 1px solid #eee; padding: 10px 0; }
        .review-stars { color: gold; font-size: 18px; }
        .review-author { font-weight: bold; }
    </style>
</head>
<body>
    <header>
        <a href="index.html" target="_blank" class="brand">متجر عمان</a>
        <nav>
            <a href="blog.html" target="_blank">المدونة</a>
            <a href="who-we.html" target="_blank">من نحن</a>
            <a href="contact-us.html" target="_blank">تواصل معنا</a>
            <a href="shipping.html" target="_blank">الشحن</a>
        </nav>
    </header>
    <main class="container">
        <h1 style="text-align:center;">مدونة منتجات متجر عمان</h1>
        <div id="blog-posts">جارٍ تحميل المقالات...</div>
    </main>
    <footer>
        <nav>
            <a href="terms-and-conditions.html" target="_blank">الشروط والأحكام</a>
            <a href="privacy-policy-page.html" target="_blank">سياسة الخصوصية</a>
            <a href="refund-policy.html" target="_blank">سياسة الاسترجاع</a>
        </nav>
        <p>© 2025 متجر عمان - جميع الحقوق محفوظة</p>
    </footer>
    <script>
        const productsUrl = 'https://raw.githubusercontent.com/sherow1982/matjar-oman/main/products.json';
        const phoneNumber = '+201110760081';

        function generateSeoArticle(product) {
            const title = product.العنوان;
            return `
                <article>
                    <h2>${title}</h2>
                    <img loading="lazy" src="${product['رابط الصورة']}" alt="صورة ${title} في عمان" class="product-image" />
                    <p>يُعتبر <strong>${title}</strong> من أبرز المنتجات في سلطنة عمان، حيث يقدم جودة عالية وسعر تنافسي، مما يجعله الخيار الأمثل للكثيرين الذين يبحثون عن كفاءة وراحة في التسوق.</p>
                    <div class="reviews-section">
                        <h3>تقييمات المشترين</h3>
                        ${generateDynamicReviews()}
                    </div>
                    <div class="btn-container">
                        <button class="whatsapp-btn" onclick="window.open('https://wa.me/${phoneNumber}?text=أهلاً، أرغب في الاستفسار عن منتج: ${title}', '_blank')">تواصل واتساب</button>
                        <a href="${product.الرابط}" class="buy-now-btn" target="_blank">اشتريه الآن من المتجر الأصلي</a>
                    </div>
                </article>
            `;
        }

        function generateDynamicReviews() {
            const MALE_NAMES = ["سالم", "علي", "خالد", "ناصر", "سعود"];
            const FEMALE_NAMES = ["فاطمة", "مريم", "شيخة", "نورة", "عائشة"];
            const REVIEW_TEXTS = [
                "منتج فنان صراحة، ويستاهل كل ريال. ما ندمت إني خذيته.",
                "ما شاء الله على الجودة! وصلني بسرعة والتغليف كان ممتاز.",
                "حبيته واجد، عملي ومفيد فالبيت. كل حد يسألني عنه.",
                "لا تترددوا، منتج بطل ويستاهل التجربة. أنصحكم فيه وبقوة.",
                "والله منتج أصلي وحل لي مشكلة كبيرة. شكرًا لكم."
            ];
            let reviewsHtml = '';
            const allNames = [...MALE_NAMES, ...FEMALE_NAMES];
            const usedNames = new Set();
            const usedTexts = new Set();

            for (let i = 0; i < 5; i++) {
                let name, text;
                do { name = allNames[Math.floor(Math.random() * allNames.length)]; } while (usedNames.has(name));
                do { text = REVIEW_TEXTS[Math.floor(Math.random() * REVIEW_TEXTS.length)]; } while (usedTexts.has(text));
                
                usedNames.add(name);
                usedTexts.add(text);
                const rating = Math.floor(Math.random() * 2) + 4;
                const stars = '&#9733;'.repeat(rating) + '&#9734;'.repeat(5 - rating);

                reviewsHtml += `
                    <div class="review-item">
                        <div class="review-stars">${stars}</div>
                        <p class="review-author"><strong>${name} من نزوى</strong></p>
                        <p>${text}</p>
                    </div>
                `;
            }
            return reviewsHtml;
        }

        document.addEventListener('DOMContentLoaded', () => {
            const blogPostsContainer = document.getElementById('blog-posts');
            fetch(productsUrl)
                .then(response => response.json())
                .then(products => {
                    blogPostsContainer.innerHTML = '';
                    products.forEach(product => {
                        blogPostsContainer.innerHTML += generateSeoArticle(product);
                    });
                })
                .catch(() => {
                    blogPostsContainer.innerHTML = '<p>حدث خطأ في تحميل المقالات.</p>';
                });
        });
    </script>
</body>
</html>
