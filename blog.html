<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>مدونة متجر عمان | دليلك لشراء أفضل المنتجات</title>
    <meta name="description" content="مقالات ومراجعات مفصلة لأحدث المنتجات في سلطنة عمان.">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet"/>
    <style>
      body { font-family: 'Cairo', sans-serif; margin: 0; padding: 0; background: #f8f8f8; color: #333; }
      .container { width: 90%; max-width: 900px; margin: auto; padding: 20px; }
      header, footer { text-align: center; background: #fff; padding: 1rem 0; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
      header nav a, footer nav a { margin: 0 15px; color: #007bff; font-weight: bold; text-decoration: none; }
      .brand { font-size: 1.8rem; font-weight: bold; color: #333; text-decoration: none; display: block; margin-bottom: 10px; }
      footer { margin-top: 40px; padding-bottom: 20px; }
      article { background: #fff; padding: 25px; border-radius: 10px; margin-bottom: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); }
      .btn-container { margin-top: 20px; text-align: center; }
      .whatsapp-btn, .buy-now-btn { border: none; border-radius: 30px; color: white; padding: 12px 25px; margin: 5px; cursor: pointer; font-weight: bold; text-decoration: none; display: inline-block; }
      .whatsapp-btn { background-color: #25D366; }
      .buy-now-btn { background-color: #007bff; }
      img.product-image { max-width: 350px; margin: 10px auto; display: block; border-radius: 10px; }
      h2 { margin-top: 0; }
      p { line-height: 1.8; }
      .reviews-section { margin-top: 20px; text-align: right; border-top: 1px solid #ddd; padding-top: 15px; }
      .review-item { border-bottom: 1px solid #eee; padding: 10px 0; }
      .review-stars { color: gold; font-size: 18px; margin-bottom: 3px; }
      .review-author { font-weight: bold; }
    </style>
</head>
<body>
    <header>
        <a href="index.html" target="_blank" class="brand">متجر عمان</a>
        <nav>
            <a href="blog.html" target="_blank">المدونة</a>
            <a href="who-we.html" target="_blank">من نحن</a>
            <a href="contact-us.html" target="_blank">تواصل معنا</a>
            <a href="shipping.html" target="_blank">الشحن</a>
        </nav>
    </header>
    <main class="container">
        <h1 style="text-align:center;">مدونة منتجات متجر عمان</h1>
        <div id="blog-posts">جارٍ تحميل المقالات...</div>
    </main>
    <footer>
        <nav>
            <a href="terms-and-conditions.html" target="_blank">الشروط والأحكام</a>
            <a href="privacy-policy-page.html" target="_blank">سياسة الخصوصية</a>
            <a href="refund-policy.html" target="_blank">سياسة الاسترجاع</a>
        </nav>
        <p>© 2025 متجر عمان - جميع الحقوق محفوظة</p>
    </footer>
    <script>
        const productsUrl = 'https://raw.githubusercontent.com/sherow1982/matjar-oman/main/products.json';
        const phoneNumber = '+201110760081';

        function generateSeoArticle(product) {
          const title = product.العنوان;
          const keywords = `${title}, شراء ${title}, أفضل ${title} في عمان, تسوق ${title} أونلاين, سعر ${title} في عمان`;
          
          let reviewsHtml = '';
          // تحقق من وجود تقييمات في ملف JSON
          if (product.تقييمات && product.تقييمات.length > 0) {
            reviewsHtml += '<h3>تقييمات المشترين</h3>';
            product.تقييمات.forEach(review => {
              let stars = '&#9733;'.repeat(review.rating) + '&#9734;'.repeat(5 - review.rating);
              reviewsHtml += `
                <div class="review-item">
                  <div class="review-stars">${stars}</div>
                  <p class="review-author">${review.user}</p>
                  <p>${review.comment}</p>
                </div>
              `;
            });
          } else {
            reviewsHtml = '<p>لا توجد تقييمات لهذا المنتج حتى الآن.</p>';
          }

          const article = `
            <article>
              <h2>${title}</h2>
              <img loading="lazy" src="${product['رابط الصورة']}" alt="${title} صورة" class="product-image" />
              <p>في سوق اليوم المزدحم بالخيارات، يبرز <strong>${title}</strong> كأحد المنتجات التي تجمع بين الجودة الفائقة والسعر التنافسي، مما يجعله الخيار الأول للكثيرين في سلطنة عمان. سواء كنت تبحث عن حل عملي لاحتياجاتك اليومية أو ترغب في الحصول على أحدث التقنيات، فإن هذا المنتج يقدم لك قيمة حقيقية.</p>
              <p>الكلمات المفتاحية مثل <i>${keywords}</i> ستساعدك على إيجاد هذا المنتج بسهولة عبر محركات البحث.</p>
              <div class="reviews-section">
                ${reviewsHtml}
              </div>
              <div class="btn-container">
                <button class="whatsapp-btn" onclick="window.open('https://wa.me/${phoneNumber}?text=أهلاً، أرغب في الاستفسار عن منتج: ${title}', '_blank')">تواصل واتساب</button>
                <a href="${product.الرابط}" class="buy-now-btn" target="_blank">اشتريه الآن من المتجر الأصلي</a>
              </div>
            </article>
          `;
          return article;
        }

        document.addEventListener('DOMContentLoaded', () => {
          const blogPostsContainer = document.getElementById('blog-posts');
          fetch(productsUrl)
            .then(res => res.json())
            .then(products => {
              blogPostsContainer.innerHTML = '';
              products.forEach(product => {
                blogPostsContainer.innerHTML += generateSeoArticle(product);
              });
            })
            .catch(() => {
              blogPostsContainer.innerHTML = '<p>حدث خطأ في تحميل المقالات.</p>';
            });
        });
    </script>
</body>
</html>
